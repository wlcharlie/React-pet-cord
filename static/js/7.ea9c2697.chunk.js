(this["webpackJsonpreact-pet-cord"]=this["webpackJsonpreact-pet-cord"]||[]).push([[7],{128:function(e,t,n){"use strict";var c=n(185),r=n(190),s=n(186),a=n(191),i=n(123),o=n(1),l=n(141),j=n(187),b=n(205),u=n(211),d=n(124),x=n(41),O=n(7),h=function(e){var t={home:Object(O.jsx)(i.c,{size:20}),pets:Object(O.jsx)(i.d,{size:20}),records:Object(O.jsx)(i.b,{size:20})};return Object(O.jsx)(b.a,{as:x.b,to:"/".concat(e.styles),leftIcon:t[e.styles],size:"lg",justifyContent:"start",bg:"transparent",px:2,mb:2,_hover:{bg:"#fea42a",color:"white"},activeStyle:{backgroundColor:"#fea42a",color:"white"},children:e.children})},p=function(e){var t=Object(o.useRef)(),n=Object(j.a)(),c=n.isOpen,r=n.onOpen,a=n.onClose;return Object(O.jsxs)(o.Fragment,{children:[Object(O.jsx)(b.a,{bg:"transparent",ref:t,onClick:r,children:Object(O.jsx)(l.a,{size:20})}),Object(O.jsxs)(u.a,{isOpen:c,placement:"left",onClose:a,finalFocusRef:e.btnRef,children:[Object(O.jsx)(d.g,{}),Object(O.jsxs)(u.b,{children:[Object(O.jsx)(d.c,{}),Object(O.jsx)(d.f,{children:Object(O.jsx)(s.a,{children:"PetCord"})}),Object(O.jsxs)(d.b,{d:"flex",flexDirection:"column",children:[Object(O.jsx)(h,{styles:"home",children:"Home"}),Object(O.jsx)(h,{styles:"pets",children:"Pets"}),Object(O.jsx)(h,{styles:"records",children:"Health Records"})]}),Object(O.jsx)(d.e,{children:"Footer"})]})]})]})},f=n(203),m=n(212),g=n(215),v=function(){return Object(O.jsxs)(f.a,{children:[Object(O.jsx)(f.b,{as:b.a,rightIcon:Object(O.jsx)(g.a,{}),d:["none","block"],children:"Your Pets"}),Object(O.jsxs)(f.f,{children:[Object(O.jsxs)(f.e,{minH:"48px",children:[Object(O.jsx)(m.a,{boxSize:"2rem",borderRadius:"full",src:"https://placekitten.com/100/100",alt:"Fluffybuns the destroyer",mr:"12px"}),Object(O.jsx)("span",{children:"Fluffybuns the Destroyer"})]}),Object(O.jsxs)(f.e,{minH:"40px",children:[Object(O.jsx)(m.a,{boxSize:"2rem",borderRadius:"full",src:"https://placekitten.com/120/120",alt:"Simon the pensive",mr:"12px"}),Object(O.jsx)("span",{children:"Simon the pensive"})]})]})]})},w=n(39),y=n(33),S=function(){var e=Object(w.c)((function(e){return e.auth})),t=Object(w.b)();return Object(O.jsxs)(f.a,{children:[Object(O.jsx)(f.b,{mx:3,as:b.a,borderRadius:"full",boxSize:"50px",bgImage:"url(https://image.flaticon.com/icons/png/512/1596/1596810.png)",bgPosition:"center",bgSize:"contain",_hover:{bgColor:"none"},_active:{bgColor:"none"}}),Object(O.jsxs)(f.f,{children:[Object(O.jsx)(s.a,{ml:3,fontSize:20,fontWeight:"bolder",children:e.name}),Object(O.jsx)(s.a,{ml:3,fontSize:16,fontWeight:"lighter",children:e.email}),Object(O.jsx)(f.c,{}),Object(O.jsx)(f.d,{children:Object(O.jsx)(f.e,{children:"My Account"})}),Object(O.jsx)(f.c,{}),Object(O.jsx)(f.d,{children:Object(O.jsx)(c.a,{justify:"flex-end",children:Object(O.jsx)(b.a,{colorScheme:"red",variant:"solid",mr:3,onClick:function(){t(y.a.logout())},children:"Logout"})})})]})]})};t.a=function(){return Object(O.jsxs)(c.a,{p:1,boxShadow:"base",align:"center",pos:"sticky",top:"0",bg:"white",zIndex:"dropdown",h:"7%",children:[Object(O.jsx)(r.a,{children:Object(O.jsx)(p,{})}),Object(O.jsx)(r.a,{children:Object(O.jsxs)(c.a,{align:"center",children:[Object(O.jsx)(i.d,{size:24}),Object(O.jsx)(s.a,{ml:1,fontSize:24,children:"PetCord"})]})}),Object(O.jsx)(a.a,{}),Object(O.jsx)(r.a,{children:Object(O.jsxs)(c.a,{align:"center",children:[Object(O.jsx)(v,{}),Object(O.jsx)(S,{})]})})]})}},204:function(e,t,n){"use strict";n.r(t);var c=n(30),r=n.n(c),s=n(42),a=n(8),i=n(1),o=n(39),l=n(128),j=n(192),b=n(7),u=function(e){return Object(b.jsx)(j.a,{maxW:["container.sm",null,null,"container.xl"],mt:3,py:2,d:["grid","flex",null,"grid"],gridTemplateColumns:[null,null,null,"1fr 1fr"],flexDirection:[null,"column",null],alignItems:"center",gridGap:4,children:e.children})},d=n(168),x=n(193),O=n(185),h=n(186),p=n(166),f=n(195),m=n(205),g=n(151),v=function(e){var t,n=e.data,c=n.name,r=n.gender,s=n.dob,a=n.species,i=n.note,o=n.avatar,l=(t=s,+(((new Date).getTime()-1e3*t)/31536e6).toFixed(1));return Object(b.jsxs)(d.a,{d:"grid",gridTemplateColumns:"1fr 2fr",pos:[null,"relative",null,"static"],my:[3,5,null,0],p:["none",1,null,0],w:[null,"90%","700px","100%"],h:[null,"150px","200px","100%"],borderRadius:"0.5rem",boxShadow:"base",bgColor:"white",children:[Object(b.jsx)(d.a,{pos:[null,"absolute",null,"static"],bottom:[null,"20px",null],left:[null,"-20px",null],bgImage:"url(".concat(o,")"),borderRadius:["0.5rem",null,null,"0.5rem 0 0 0.5rem"],borderWidth:["none","5px",null,0],borderColor:["none","white",null,"none"],boxSize:["120px","150px"],bgPosition:"center",bgSize:"cover"}),Object(b.jsxs)(x.a,{colStart:2,pos:"relative",children:[Object(b.jsxs)(O.a,{direction:"column",h:"100%",children:[Object(b.jsx)(h.a,{fontSize:"12px",fontWeight:"lighter",fontStyle:"italic",display:["none","block"],children:i}),Object(b.jsxs)(O.a,{align:"flex-end",justify:"space-between",children:[Object(b.jsx)(h.a,{fontSize:"30px",children:c}),Object(b.jsx)(h.a,{mr:3,children:r+", "+l+"y"})]}),Object(b.jsx)(p.a,{}),Object(b.jsxs)(O.a,{direction:"column",grow:2,justify:"center",mt:1,children:[Object(b.jsx)(d.a,{children:Object(b.jsx)(f.a,{size:"sm",variant:"outline",colorScheme:"orange",children:"Latest Record: 09/18"})}),Object(b.jsxs)(O.a,{align:"center",children:[Object(b.jsx)(m.a,{colorScheme:"orange",mr:1,rightIcon:Object(b.jsx)(g.d,{}),children:"Record"}),Object(b.jsx)(m.a,{colorScheme:"teal",rightIcon:Object(b.jsx)(g.e,{}),children:"Edit"})]})]})]}),Object(b.jsxs)(d.a,{pos:"absolute",bottom:"0",right:"5px",d:["none","block"],children:["cat"===a&&Object(b.jsx)(g.b,{size:"4em",color:"rgb(0,0,0,0.2)"}),"dog"===a&&Object(b.jsx)(g.c,{size:"4em",color:"rgb(0,0,0,0.2)"})]})]})]})},w=n(187),y=n(202),S=n(211),C=n(124),z=n(172),k=n(171),R=n(10),F=n(65),I=n(210),P=n(127),D=n(163),T=n(164),_=n(212),A=n(196),W=n(153),L=n(213),q=n(197),H="https://pet-cord.herokuapp.com/api",E=function(){var e=Object(s.a)(r.a.mark((function e(t){var n,c,s,a;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(c in n=new FormData,t)n.append(c,t[c]);return e.prev=2,e.next=5,fetch(H+"/pets",{method:"POST",body:n});case 5:return s=e.sent,e.next=8,s.json();case 8:return a=e.sent,e.abrupt("return",{res:s,data:a});case 12:return e.prev=12,e.t0=e.catch(2),e.abrupt("return",e.t0);case 15:case"end":return e.stop()}}),e,null,[[2,12]])})));return function(t){return e.apply(this,arguments)}}(),U=function(){var e=Object(s.a)(r.a.mark((function e(t){var n,c;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch(H+"/pets/"+t);case 3:return n=e.sent,e.next=6,n.json();case 6:return c=e.sent,e.abrupt("return",{res:n,data:c});case 10:return e.prev=10,e.t0=e.catch(0),e.abrupt("return",e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t){return e.apply(this,arguments)}}(),G={name:"",dob:"",species:"",gender:"male",note:""},J=function(e,t){return Object(F.a)(Object(F.a)({},e),{},Object(R.a)({},t.type,[t.value]))},M=function(e){var t=Object(o.c)((function(e){return e.auth.id})),n=Object(i.useRef)(),c=Object(i.useState)("https://image.flaticon.com/icons/png/512/528/528101.png"),l=Object(a.a)(c,2),j=l[0],u=l[1],x=Object(i.useReducer)(J,G),O=Object(a.a)(x,2),h=O[0],f=h.name,m=h.dob,v=h.species,w=h.gender,y=h.note,S=O[1],C=function(){var c=Object(s.a)(r.a.mark((function c(s){var a,i;return r.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return s.preventDefault(),e.submit.pending(),c.next=4,E({avatar:n.current.files[0],name:f,dob:m,species:v,gender:w,note:y,UserId:t});case 4:a=c.sent,i=a.res,a.data,i.ok?e.submit.success():e.submit.fail();case 8:case"end":return c.stop()}}),c)})));return function(e){return c.apply(this,arguments)}}();return Object(b.jsx)("form",{onSubmit:C,id:"newPetForm",enctype:"multipart/form-data",children:Object(b.jsxs)(I.b,{spacing:"24px",onChange:function(e){S({type:e.target.name,value:e.target.value})},children:[Object(b.jsxs)(P.a,{id:"avatar",children:[Object(b.jsx)(D.a,{children:"Avatar"}),Object(b.jsx)(T.a,{accept:"image/*",type:"file",name:"avatar",d:"none",onChange:function(e){e.target.files.length&&(console.log(e.target.files),u(URL.createObjectURL(e.target.files[0])))},ref:n}),Object(b.jsxs)(d.a,{w:"100px",h:"100px",pos:"relative",children:[Object(b.jsx)(_.a,{pos:"absolute",zIndex:"99",bgSize:"cover",bgImage:"url(".concat(j,")"),w:"100%",h:"100%",borderRadius:"50%",transition:"0.2s",_hover:{filter:"blur(2px) brightness(50%)",cursor:"pointer",zIndex:"97"},onClick:function(){return n.current.click()}}),Object(b.jsx)(d.a,{color:"rgba(255,255,255,0.6)",zIndex:"98",pos:"absolute",top:"50%",left:"50%",mt:"-10px",ml:"-10px",children:Object(b.jsx)(g.a,{size:20})})]})]}),Object(b.jsxs)(P.a,{id:"name",isRequired:!0,children:[Object(b.jsx)(D.a,{children:"Pet Name"}),Object(b.jsx)(T.a,{type:"text",name:"name",value:f})]}),Object(b.jsxs)(P.a,{id:"species",isRequired:!0,children:[Object(b.jsx)(D.a,{children:"Type"}),Object(b.jsxs)(A.a,{placeholder:"Select option",name:"species",value:v,children:[Object(b.jsx)("option",{value:"dog",children:"Dog"}),Object(b.jsx)("option",{value:"cat",children:"Cat"})]})]}),Object(b.jsxs)(P.a,{id:"dob",isRequired:!0,children:[Object(b.jsx)(D.a,{children:"Date of birth"}),Object(b.jsx)(T.a,{type:"date",name:"dob",value:m})]}),Object(b.jsxs)(P.a,{id:"gender",isRequired:!0,children:[Object(b.jsx)(D.a,{children:"Gender"}),Object(b.jsx)(W.a,{defaultValue:w,name:"gender",children:Object(b.jsxs)(I.a,{children:[Object(b.jsx)(L.a,{value:"male",children:"Male"}),Object(b.jsx)(L.a,{value:"female",children:"Female"})]})})]}),Object(b.jsx)(p.a,{}),Object(b.jsxs)(P.a,{id:"note",children:[Object(b.jsx)(D.a,{children:"Note"}),Object(b.jsx)(q.a,{placeholder:"Some note?",name:"note",value:y})]})]})})},N=function(){var e=Object(i.useState)(!1),t=Object(a.a)(e,2),n=t[0],c=t[1],r=Object(i.useState)(!1),s=Object(a.a)(r,2),o=s[0],l=s[1],j=Object(i.useState)(!1),u=Object(a.a)(j,2),x=u[0],O=u[1],h=Object(w.a)(),p=h.isOpen,f=h.onOpen,g=h.onClose,v=Object(i.useRef)(),R=Object(y.a)(),F=function(){if(n&&!window.confirm("Your data still up there, you will lose it after the leaving. Are you sure and leave?"))return;c(!1),g()},I={pending:function(){l(!0)},success:function(){l(!1),c(!1),g(),R({title:"Success",description:"A new pet has joined!",status:"success",duration:6e3,position:"bottom-right",isClosable:!0})},fail:function(){l(!1),O(!0)}};return Object(b.jsxs)(i.Fragment,{children:[Object(b.jsx)(d.a,{as:"button",pos:"fixed",bottom:"50px",right:"50px",boxShadow:"base",color:"#3182ce",bg:"white",borderWidth:"5px",borderColor:"white",borderRadius:"50%",transition:"0.3s ",onTransitionEnd:f,_hover:{cursor:"pointer"},_focus:{transform:"scale(0)",right:"-100px"},ref:v,children:Object(b.jsx)(k.a,{size:60})}),Object(b.jsxs)(S.a,{isOpen:p,placement:"right",onClose:F,finalFocusRef:function(){return window},size:"sm",onChange:function(){return c(!0)},children:[Object(b.jsx)(C.g,{}),Object(b.jsxs)(S.b,{children:[Object(b.jsx)(C.c,{}),Object(b.jsx)(C.f,{children:"Adding a new friend?"}),Object(b.jsx)(C.b,{children:Object(b.jsx)(M,{submit:I})}),x&&Object(b.jsxs)(z.a,{status:"warning",children:[Object(b.jsx)(z.c,{}),"Something gone wrong... Please try again!"]}),Object(b.jsxs)(C.e,{justifyContent:"space-between",children:[Object(b.jsx)(m.a,{isLoading:o,loadingText:"working...",type:"submit",colorScheme:"blue",form:"newPetForm",children:"Add"}),Object(b.jsx)(m.a,{variant:"outline",onClick:F,children:"Cancel"})]})]})]})]})},Y=n(207),V=function(){return Object(b.jsxs)(d.a,{d:"grid",gridTemplateColumns:"1fr 2fr",pos:[null,"relative",null,"static"],my:[3,5,null,0],p:["none",1,null,0],w:[null,"90%","700px","100%"],h:[null,"150px","200px","100%"],children:[Object(b.jsx)(Y.a,{startColor:"pink.500",endColor:"orange.500",pos:[null,"absolute",null,"static"],bottom:[null,"20px",null],left:[null,"-20px",null],boxSize:["120px","150px"]}),Object(b.jsx)(x.a,{colStart:2,pos:"relative",children:Object(b.jsx)(Y.a,{startColor:"pink.500",endColor:"orange.500",w:"100%",h:"100%",display:["none","block"]})})]})},B=function(){return Object(b.jsxs)(i.Fragment,{children:[Object(b.jsx)(V,{}),Object(b.jsx)(V,{}),Object(b.jsx)(V,{}),Object(b.jsx)(V,{}),Object(b.jsx)(V,{}),Object(b.jsx)(V,{}),Object(b.jsx)(V,{}),Object(b.jsx)(V,{})]})},K=function(e,t){return t.data.map((function(e){return Object(b.jsx)(v,{data:e},e._id)}))};t.default=function(){var e=Object(o.c)((function(e){return e.auth.id})),t=Object(i.useReducer)(K,null),n=Object(a.a)(t,2),c=n[0],j=n[1];return Object(i.useEffect)(Object(s.a)(r.a.mark((function t(){var n,c,s;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,U(e);case 2:n=t.sent,c=n.res,s=n.data,c.ok&&j({data:s});case 6:case"end":return t.stop()}}),t)})))),Object(b.jsxs)(i.Fragment,{children:[Object(b.jsx)(l.a,{}),Object(b.jsxs)(u,{children:[!c&&Object(b.jsx)(B,{}),c&&c]}),Object(b.jsx)(N,{})]})}}}]);
//# sourceMappingURL=7.ea9c2697.chunk.js.map