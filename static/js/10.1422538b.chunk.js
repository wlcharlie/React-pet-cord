(this["webpackJsonpreact-pet-cord"]=this["webpackJsonpreact-pet-cord"]||[]).push([[10],{207:function(e,r,t){"use strict";t.r(r);var n=t(1),s=t(168),a=t(30),c=t.n(a),i=t(65),l=t(42),o=t(8),j=t(39),b=t(33),d=t(9),u=t(211),x=t(124),O=t(173),h=t(184),g=t(206),f=t(77),m=t(185),p=t(186),w=t(127),k=t(163),v=t(164),y=t(166),P=t(208),R=t(5),C=function(e){var r=e.loginData,t=r.loginEmail,n=r.loginPassword;return Object(R.jsx)(x.b,{children:Object(R.jsxs)(m.a,{h:"100%",direction:"column",justify:"center",children:[Object(R.jsx)(p.a,{mb:3,fontSize:24,fontWeight:"bolder",children:"LOGIN"}),Object(R.jsxs)(w.a,{id:"email",mb:2,children:[Object(R.jsx)(k.a,{children:"Email address"}),Object(R.jsx)(v.a,{type:"email",isRequired:!0,ref:t})]}),Object(R.jsxs)(w.a,{id:"password",mb:2,children:[Object(R.jsx)(k.a,{children:"Password"}),Object(R.jsx)(v.a,{type:"password",isRequired:!0,ref:n})]}),Object(R.jsx)(y.a,{my:3}),Object(R.jsx)(p.a,{textAlign:"right",mb:2,children:Object(R.jsx)(P.a,{label:"well, the feature still developing","aria-label":"A tooltip",children:"Forgot the Password?"})}),Object(R.jsx)(p.a,{onClick:e.formChangeHandler,textAlign:"right",_hover:{cursor:"pointer",fontWeight:"bolder"},children:"Not Registered yet?"})]})})},D=t(123),E=function(e){var r=e.regData,t=r.regUsername,n=r.regEmail,s=r.regPassword,a=r.regPasswordCheck;return Object(R.jsx)(x.b,{children:Object(R.jsxs)(m.a,{h:"100%",direction:"column",justify:"center",children:[Object(R.jsx)(p.a,{mb:3,fontSize:24,fontWeight:"bolder",children:"Reg"}),Object(R.jsxs)(w.a,{id:"username",mb:2,children:[Object(R.jsx)(k.a,{children:"User Name"}),Object(R.jsx)(v.a,{type:"text",isRequired:!0,ref:t})]}),Object(R.jsxs)(w.a,{id:"email",mb:2,children:[Object(R.jsx)(k.a,{children:"Email address"}),Object(R.jsx)(v.a,{type:"email",isRequired:!0,ref:n})]}),Object(R.jsxs)(w.a,{id:"password",mb:2,children:[Object(R.jsx)(k.a,{children:"Password"}),Object(R.jsx)(v.a,{type:"password",isRequired:!0,ref:s})]}),Object(R.jsxs)(w.a,{id:"checkPassword",mb:2,children:[Object(R.jsx)(k.a,{children:"Check the Password"}),Object(R.jsx)(v.a,{type:"password",isRequired:!0,ref:a})]}),Object(R.jsx)(y.a,{my:3}),Object(R.jsxs)(p.a,{onClick:e.formChangeHandler,_hover:{cursor:"pointer",fontWeight:"bolder"},children:[Object(R.jsx)(D.a,{style:{display:"inline"}}),"Have Account Already?"]})]})})},H=function(){var e=Object(j.b)(),r=Object(d.f)(),t=Object(n.useState)("login"),s=Object(o.a)(t,2),a=s[0],m=s[1],p=function(){m("login"===a?"register":"login")},w=Object(n.useState)(null),k=Object(o.a)(w,2),v=k[0],y=k[1],P=Object(n.useState)(!1),D=Object(o.a)(P,2),H=D[0],S=D[1],q={loginEmail:Object(n.useRef)(),loginPassword:Object(n.useRef)()},A={regUsername:Object(n.useRef)(),regEmail:Object(n.useRef)(),regPassword:Object(n.useRef)(),regPasswordCheck:Object(n.useRef)()},z=function(){var t=Object(l.a)(c.a.mark((function t(n){var s,l,o,j,d,u,x,O,h,g,m,p,w,k,v,P,R;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n.preventDefault(),y(null),S(!0),"login"!==a){t.next=18;break}return s=q.loginPassword,l=q.loginEmail.current.value,o=s.current.value,t.next=9,Object(f.b)({email:l,password:o});case 9:if(j=t.sent,d=j.res,u=j.data,x=j.user,d.ok){t.next=17;break}return y(u.error.message),S(!1),t.abrupt("return");case 17:e(b.a.login(Object(i.a)({token:u.idToken},x)));case 18:if("register"!==a){t.next=39;break}if(O=A.regEmail,h=A.regPassword,g=A.regPasswordCheck,m=A.regUsername.current.value,p=O.current.value,w=h.current.value,g.current.value===w){t.next=28;break}return y("Both password fields are not identical"),S(!1),t.abrupt("return");case 28:return t.next=30,Object(f.c)({email:p,password:w,username:m});case 30:if(k=t.sent,v=k.res,P=k.data,R=k.user,v.ok){t.next=38;break}return y(P.error.message),S(!1),t.abrupt("return");case 38:e(b.a.login(Object(i.a)({token:P.idToken},R)));case 39:S(!1),r.replace("/pets");case 41:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return Object(R.jsx)(n.Fragment,{children:Object(R.jsx)(u.a,{isOpen:!0,placement:"right",size:"md",children:Object(R.jsx)("form",{onSubmit:z,children:Object(R.jsxs)(u.b,{background:["rgba(255,255,255,0.95)",null,null,"white"],children:[Object(R.jsx)(x.f,{textAlign:"center",children:"PetCord"}),"login"===a&&Object(R.jsx)(C,{formChangeHandler:p,loginData:q}),"register"===a&&Object(R.jsx)(E,{formChangeHandler:p,regData:A}),Object(R.jsxs)(x.e,{flexDirection:"column",h:"20%",children:[v&&Object(R.jsxs)(O.a,{status:"warning",mb:2,children:[Object(R.jsx)(O.c,{}),v,Object(R.jsx)(h.a,{size:"sm",position:"absolute",right:"3px",top:"3px",autoFocus:!0,onBlur:function(){return y(null)},onClick:function(){return y(null)}})]}),Object(R.jsx)(g.a,{isLoading:H,loadingText:"just a sec...",type:"submit",w:"100%",colorScheme:"red",children:"login"===a?"LOGIN":"JOIN"})]})]})})})})},S=function(){return Object(R.jsxs)(n.Fragment,{children:[Object(R.jsx)(H,{}),Object(R.jsx)(s.a,{w:"100%",h:"100%",backgroundPosition:["-200px",null,null,"left"],backgroundSize:["cover",null,null,null,null,"contain"],backgroundRepeat:"no-repeat",backgroundImage:"url(https://images.unsplash.com/photo-1623387641168-d9803ddd3f35?ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&ixlib=rb-1.2.1&auto=format&fit=crop&w=1050&q=80)"})]})};r.default=function(){return Object(R.jsx)(S,{})}}}]);
//# sourceMappingURL=10.1422538b.chunk.js.map